{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "e9602e66-7f94-4b15-b3dd-998f413c8bd8",
   "metadata": {
    "tags": []
   },
   "outputs": [],
   "source": [
    "# Mappeoppgave 4: Scrape_timeplan.R"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "id": "e08313ac-7a1a-4f09-9823-abe79dd7063f",
   "metadata": {},
   "outputs": [],
   "source": [
    "library(rvest)\n",
    "library(tidyverse)\n",
    "library(rlist)\n",
    "library(purrr)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "44c82a04-b8f3-4988-bf5e-64b0969eb3b4",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Timeplansliste for SOK-1005, SOK-1006 og SOK-1016"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "4b13247c-c0d0-4a67-8a9f-c7bcfc0292e2",
   "metadata": {},
   "outputs": [],
   "source": [
    "Timeplan <- list(\"https://timeplan.uit.no/emne_timeplan.php?sem=22v&module%5B%5D=SOK-1006-1&View=list\",\n",
    "                 \"https://timeplan.uit.no/emne_timeplan.php?sem=22v&module%5B%5D=SOK-1005-1&week=1-20&View=list\",\n",
    "                 \"https://timeplan.uit.no/emne_timeplan.php?sem=22v&module%5B%5D=SOK-1016-1&View=list\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "44be36ad-6caa-4861-aaa9-a0ed9ba9f024",
   "metadata": {},
   "outputs": [],
   "source": [
    "scrape <- function(url) {\n",
    "  page <- read_html(url)\n",
    "  \n",
    "  table <- html_nodes(page, 'table') \n",
    "  table <- html_table(table, fill=TRUE) \n",
    "  \n",
    "  dframe <- list.stack(table)\n",
    "  \n",
    "  colnames(dframe) <- dframe[1,]\n",
    "  \n",
    "  dframe <- dframe %>% filter(!Dato==\"Dato\")\n",
    "  \n",
    "  dframe$Dato[dframe$Dato == \"\"] <- NA\n",
    "  dframe$Dato <- na.locf(dframe$Dato)\n",
    "  \n",
    "  dframe <- dframe %>% separate(Dato, \n",
    "                                into = c(\"Dag\", \"Dato\"), \n",
    "                                sep = \"(?<=[A-Za-z])(?=[0-9])\")\n",
    "  \n",
    "  dframe$Dato <- as.Date(dframe$Dato, format=\"%d.%m.%Y\")\n",
    "  \n",
    "  dframe$Uke <- strftime(dframe$Dato, format = \"%V\")\n",
    "  \n",
    "  dframe <- dframe %>% \n",
    "    arrange(Dato)\n",
    "  \n",
    "  dframe <- dframe %>% select(Dag,Dato,Uke,Tid,Rom, Emnekode)\n",
    "  \n",
    "  return(dframe)\n",
    "  \n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "6dccdaae-9f2d-4db3-be3d-70d37b8a7c27",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Til slutt bruker vi map til å få ett lett leselig av listene og funksjonen"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "440eddc0-15de-4a81-8d14-7813bbaa9944",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "Column 1 ['Uke 4'] of item 2 is missing in item 1. Use fill=TRUE to fill with NA (NULL for list columns), or use.names=FALSE to ignore column names. use.names='check' (default from v1.12.2) emits this message and proceeds as if use.names=FALSE for  backwards compatibility. See news item 5 in v1.12.2 for options to control this message.\n",
      "\n",
      "Column 1 ['Uke 3'] of item 2 is missing in item 1. Use fill=TRUE to fill with NA (NULL for list columns), or use.names=FALSE to ignore column names. use.names='check' (default from v1.12.2) emits this message and proceeds as if use.names=FALSE for  backwards compatibility. See news item 5 in v1.12.2 for options to control this message.\n",
      "\n",
      "Column 1 ['Uke 3'] of item 2 is missing in item 1. Use fill=TRUE to fill with NA (NULL for list columns), or use.names=FALSE to ignore column names. use.names='check' (default from v1.12.2) emits this message and proceeds as if use.names=FALSE for  backwards compatibility. See news item 5 in v1.12.2 for options to control this message.\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<table class=\"dataframe\">\n",
       "<caption>A data.frame: 90 × 6</caption>\n",
       "<thead>\n",
       "\t<tr><th scope=col>Dag</th><th scope=col>Dato</th><th scope=col>Uke</th><th scope=col>Tid</th><th scope=col>Rom</th><th scope=col>Emnekode</th></tr>\n",
       "\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;date&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n",
       "</thead>\n",
       "<tbody>\n",
       "\t<tr><td>Onsdag </td><td>2022-01-12</td><td>02</td><td>14:15-16:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-01-13</td><td>02</td><td>14:15-16:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-01-18</td><td>03</td><td>10:15-12:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-01-18</td><td>03</td><td>12:15-13:00</td><td>HHT 01.202AUD                 </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-01-19</td><td>03</td><td>12:15-16:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-01-20</td><td>03</td><td>09:15-14:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-01-20</td><td>03</td><td>14:15-16:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-01-25</td><td>04</td><td>14:15-17:00</td><td>HARSTAD_HG5 AUD_GRØNT         </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-01-27</td><td>04</td><td>12:15-14:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-01-27</td><td>04</td><td>14:15-16:00</td><td>VIRTUELT _Digital undervisning</td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-03</td><td>05</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-10</td><td>06</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Fredag </td><td>2022-02-11</td><td>06</td><td>12:15-14:00</td><td>TEO-H1 1.836-AUD2             </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-02-15</td><td>07</td><td>12:15-14:00</td><td>TEO-H1 1.836-AUD2             </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-02-16</td><td>07</td><td>12:15-16:00</td><td>MH U6.SAUD                    </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-17</td><td>07</td><td>08:15-10:00</td><td>TEO-H6 6.303-AUD3             </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-17</td><td>07</td><td>12:15-14:00</td><td>TEO-H6 6.303-AUD3             </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-17</td><td>07</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-24</td><td>08</td><td>11:15-14:00</td><td>TEO-H1 1.820-AUD1             </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-02-24</td><td>08</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Fredag </td><td>2022-02-25</td><td>08</td><td>12:15-14:00</td><td>TEO-H1 1.836-AUD2             </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-02-28</td><td>09</td><td>10:15-12:00</td><td>HHT 02.217                    </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-02-28</td><td>09</td><td>12:15-14:00</td><td>TEO-H1 1.836-AUD2             </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-03-01</td><td>09</td><td>12:15-14:00</td><td>HHT 02.218                    </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-03-02</td><td>09</td><td>10:15-12:00</td><td>HHT 02.217                    </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-03-02</td><td>09</td><td>14:15-16:00</td><td>HHT 02.218                    </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-03-03</td><td>09</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-03-10</td><td>10</td><td>14:15-16:00</td><td>HHT 01.202AUD                 </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-03-14</td><td>11</td><td>10:15-12:00</td><td>HHT 02.217                    </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-03-15</td><td>11</td><td>10:15-12:00</td><td>TEO-H1 1.836-AUD2             </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-04-21</td><td>16</td><td>12:15-14:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-04-21</td><td>16</td><td>14:15-16:00</td><td>HHT 01.202AUD    </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Fredag </td><td>2022-04-22</td><td>16</td><td>09:15-12:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-04-25</td><td>17</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-04-26</td><td>17</td><td>10:15-12:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-04-27</td><td>17</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-04-27</td><td>17</td><td>12:15-16:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-04-27</td><td>17</td><td>14:15-16:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-04-28</td><td>17</td><td>09:15-14:00</td><td>TEO-H1 1.820-AUD1</td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-04-28</td><td>17</td><td>12:15-14:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-04-28</td><td>17</td><td>14:15-16:00</td><td>HHT 01.202AUD    </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-05-02</td><td>18</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Tirsdag</td><td>2022-05-03</td><td>18</td><td>10:15-12:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-04</td><td>18</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-04</td><td>18</td><td>14:15-16:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-05-05</td><td>18</td><td>12:15-14:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-05-05</td><td>18</td><td>14:15-16:00</td><td>HHT 01.202AUD    </td><td>SOK-1005-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-05-09</td><td>19</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-11</td><td>19</td><td>08:15-10:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-11</td><td>19</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-11</td><td>19</td><td>14:15-16:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-05-12</td><td>19</td><td>12:15-14:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Fredag </td><td>2022-05-13</td><td>19</td><td>13:00-13:00</td><td>                 </td><td>SOK-1005- </td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-05-16</td><td>20</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-18</td><td>20</td><td>08:15-10:00</td><td>TEO-H1 1.836-AUD2</td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-18</td><td>20</td><td>10:15-12:00</td><td>HHT 02.217       </td><td>SOK-1006-1</td></tr>\n",
       "\t<tr><td>Onsdag </td><td>2022-05-18</td><td>20</td><td>14:15-16:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Torsdag</td><td>2022-05-19</td><td>20</td><td>12:15-14:00</td><td>HHT 02.218       </td><td>SOK-1016-1</td></tr>\n",
       "\t<tr><td>Mandag </td><td>2022-05-30</td><td>22</td><td>13:00-13:00</td><td>                 </td><td>SOK-1006- </td></tr>\n",
       "\t<tr><td>Fredag </td><td>2022-06-10</td><td>23</td><td>13:00-13:00</td><td>                 </td><td>SOK-1016- </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "A data.frame: 90 × 6\n",
       "\\begin{tabular}{llllll}\n",
       " Dag & Dato & Uke & Tid & Rom & Emnekode\\\\\n",
       " <chr> & <date> & <chr> & <chr> & <chr> & <chr>\\\\\n",
       "\\hline\n",
       "\t Onsdag  & 2022-01-12 & 02 & 14:15-16:00 & VIRTUELT \\_Digital undervisning & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-01-13 & 02 & 14:15-16:00 & VIRTUELT \\_Digital undervisning & SOK-1005-1\\\\\n",
       "\t Tirsdag & 2022-01-18 & 03 & 10:15-12:00 & VIRTUELT \\_Digital undervisning & SOK-1016-1\\\\\n",
       "\t Tirsdag & 2022-01-18 & 03 & 12:15-13:00 & HHT 01.202AUD                  & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-01-19 & 03 & 12:15-16:00 & VIRTUELT \\_Digital undervisning & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-01-20 & 03 & 09:15-14:00 & VIRTUELT \\_Digital undervisning & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-01-20 & 03 & 14:15-16:00 & VIRTUELT \\_Digital undervisning & SOK-1005-1\\\\\n",
       "\t Tirsdag & 2022-01-25 & 04 & 14:15-17:00 & HARSTAD\\_HG5 AUD\\_GRØNT          & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-01-27 & 04 & 12:15-14:00 & VIRTUELT \\_Digital undervisning & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-01-27 & 04 & 14:15-16:00 & VIRTUELT \\_Digital undervisning & SOK-1005-1\\\\\n",
       "\t Torsdag & 2022-02-03 & 05 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Torsdag & 2022-02-10 & 06 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Fredag  & 2022-02-11 & 06 & 12:15-14:00 & TEO-H1 1.836-AUD2              & SOK-1016-1\\\\\n",
       "\t Tirsdag & 2022-02-15 & 07 & 12:15-14:00 & TEO-H1 1.836-AUD2              & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-02-16 & 07 & 12:15-16:00 & MH U6.SAUD                     & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-02-17 & 07 & 08:15-10:00 & TEO-H6 6.303-AUD3              & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-02-17 & 07 & 12:15-14:00 & TEO-H6 6.303-AUD3              & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-02-17 & 07 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Torsdag & 2022-02-24 & 08 & 11:15-14:00 & TEO-H1 1.820-AUD1              & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-02-24 & 08 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Fredag  & 2022-02-25 & 08 & 12:15-14:00 & TEO-H1 1.836-AUD2              & SOK-1016-1\\\\\n",
       "\t Mandag  & 2022-02-28 & 09 & 10:15-12:00 & HHT 02.217                     & SOK-1006-1\\\\\n",
       "\t Mandag  & 2022-02-28 & 09 & 12:15-14:00 & TEO-H1 1.836-AUD2              & SOK-1016-1\\\\\n",
       "\t Tirsdag & 2022-03-01 & 09 & 12:15-14:00 & HHT 02.218                     & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-03-02 & 09 & 10:15-12:00 & HHT 02.217                     & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-03-02 & 09 & 14:15-16:00 & HHT 02.218                     & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-03-03 & 09 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Torsdag & 2022-03-10 & 10 & 14:15-16:00 & HHT 01.202AUD                  & SOK-1005-1\\\\\n",
       "\t Mandag  & 2022-03-14 & 11 & 10:15-12:00 & HHT 02.217                     & SOK-1006-1\\\\\n",
       "\t Tirsdag & 2022-03-15 & 11 & 10:15-12:00 & TEO-H1 1.836-AUD2              & SOK-1016-1\\\\\n",
       "\t ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮\\\\\n",
       "\t Torsdag & 2022-04-21 & 16 & 12:15-14:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-04-21 & 16 & 14:15-16:00 & HHT 01.202AUD     & SOK-1005-1\\\\\n",
       "\t Fredag  & 2022-04-22 & 16 & 09:15-12:00 & TEO-H1 1.836-AUD2 & SOK-1006-1\\\\\n",
       "\t Mandag  & 2022-04-25 & 17 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Tirsdag & 2022-04-26 & 17 & 10:15-12:00 & TEO-H1 1.836-AUD2 & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-04-27 & 17 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-04-27 & 17 & 12:15-16:00 & TEO-H1 1.836-AUD2 & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-04-27 & 17 & 14:15-16:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-04-28 & 17 & 09:15-14:00 & TEO-H1 1.820-AUD1 & SOK-1006-1\\\\\n",
       "\t Torsdag & 2022-04-28 & 17 & 12:15-14:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-04-28 & 17 & 14:15-16:00 & HHT 01.202AUD     & SOK-1005-1\\\\\n",
       "\t Mandag  & 2022-05-02 & 18 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Tirsdag & 2022-05-03 & 18 & 10:15-12:00 & TEO-H1 1.836-AUD2 & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-05-04 & 18 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-05-04 & 18 & 14:15-16:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-05-05 & 18 & 12:15-14:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-05-05 & 18 & 14:15-16:00 & HHT 01.202AUD     & SOK-1005-1\\\\\n",
       "\t Mandag  & 2022-05-09 & 19 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-05-11 & 19 & 08:15-10:00 & TEO-H1 1.836-AUD2 & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-05-11 & 19 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-05-11 & 19 & 14:15-16:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-05-12 & 19 & 12:15-14:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Fredag  & 2022-05-13 & 19 & 13:00-13:00 &                   & SOK-1005- \\\\\n",
       "\t Mandag  & 2022-05-16 & 20 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-05-18 & 20 & 08:15-10:00 & TEO-H1 1.836-AUD2 & SOK-1016-1\\\\\n",
       "\t Onsdag  & 2022-05-18 & 20 & 10:15-12:00 & HHT 02.217        & SOK-1006-1\\\\\n",
       "\t Onsdag  & 2022-05-18 & 20 & 14:15-16:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Torsdag & 2022-05-19 & 20 & 12:15-14:00 & HHT 02.218        & SOK-1016-1\\\\\n",
       "\t Mandag  & 2022-05-30 & 22 & 13:00-13:00 &                   & SOK-1006- \\\\\n",
       "\t Fredag  & 2022-06-10 & 23 & 13:00-13:00 &                   & SOK-1016- \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "A data.frame: 90 × 6\n",
       "\n",
       "| Dag &lt;chr&gt; | Dato &lt;date&gt; | Uke &lt;chr&gt; | Tid &lt;chr&gt; | Rom &lt;chr&gt; | Emnekode &lt;chr&gt; |\n",
       "|---|---|---|---|---|---|\n",
       "| Onsdag  | 2022-01-12 | 02 | 14:15-16:00 | VIRTUELT _Digital undervisning | SOK-1016-1 |\n",
       "| Torsdag | 2022-01-13 | 02 | 14:15-16:00 | VIRTUELT _Digital undervisning | SOK-1005-1 |\n",
       "| Tirsdag | 2022-01-18 | 03 | 10:15-12:00 | VIRTUELT _Digital undervisning | SOK-1016-1 |\n",
       "| Tirsdag | 2022-01-18 | 03 | 12:15-13:00 | HHT 01.202AUD                  | SOK-1006-1 |\n",
       "| Onsdag  | 2022-01-19 | 03 | 12:15-16:00 | VIRTUELT _Digital undervisning | SOK-1006-1 |\n",
       "| Torsdag | 2022-01-20 | 03 | 09:15-14:00 | VIRTUELT _Digital undervisning | SOK-1006-1 |\n",
       "| Torsdag | 2022-01-20 | 03 | 14:15-16:00 | VIRTUELT _Digital undervisning | SOK-1005-1 |\n",
       "| Tirsdag | 2022-01-25 | 04 | 14:15-17:00 | HARSTAD_HG5 AUD_GRØNT          | SOK-1006-1 |\n",
       "| Torsdag | 2022-01-27 | 04 | 12:15-14:00 | VIRTUELT _Digital undervisning | SOK-1016-1 |\n",
       "| Torsdag | 2022-01-27 | 04 | 14:15-16:00 | VIRTUELT _Digital undervisning | SOK-1005-1 |\n",
       "| Torsdag | 2022-02-03 | 05 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Torsdag | 2022-02-10 | 06 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Fredag  | 2022-02-11 | 06 | 12:15-14:00 | TEO-H1 1.836-AUD2              | SOK-1016-1 |\n",
       "| Tirsdag | 2022-02-15 | 07 | 12:15-14:00 | TEO-H1 1.836-AUD2              | SOK-1016-1 |\n",
       "| Onsdag  | 2022-02-16 | 07 | 12:15-16:00 | MH U6.SAUD                     | SOK-1006-1 |\n",
       "| Torsdag | 2022-02-17 | 07 | 08:15-10:00 | TEO-H6 6.303-AUD3              | SOK-1006-1 |\n",
       "| Torsdag | 2022-02-17 | 07 | 12:15-14:00 | TEO-H6 6.303-AUD3              | SOK-1006-1 |\n",
       "| Torsdag | 2022-02-17 | 07 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Torsdag | 2022-02-24 | 08 | 11:15-14:00 | TEO-H1 1.820-AUD1              | SOK-1006-1 |\n",
       "| Torsdag | 2022-02-24 | 08 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Fredag  | 2022-02-25 | 08 | 12:15-14:00 | TEO-H1 1.836-AUD2              | SOK-1016-1 |\n",
       "| Mandag  | 2022-02-28 | 09 | 10:15-12:00 | HHT 02.217                     | SOK-1006-1 |\n",
       "| Mandag  | 2022-02-28 | 09 | 12:15-14:00 | TEO-H1 1.836-AUD2              | SOK-1016-1 |\n",
       "| Tirsdag | 2022-03-01 | 09 | 12:15-14:00 | HHT 02.218                     | SOK-1016-1 |\n",
       "| Onsdag  | 2022-03-02 | 09 | 10:15-12:00 | HHT 02.217                     | SOK-1006-1 |\n",
       "| Onsdag  | 2022-03-02 | 09 | 14:15-16:00 | HHT 02.218                     | SOK-1016-1 |\n",
       "| Torsdag | 2022-03-03 | 09 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Torsdag | 2022-03-10 | 10 | 14:15-16:00 | HHT 01.202AUD                  | SOK-1005-1 |\n",
       "| Mandag  | 2022-03-14 | 11 | 10:15-12:00 | HHT 02.217                     | SOK-1006-1 |\n",
       "| Tirsdag | 2022-03-15 | 11 | 10:15-12:00 | TEO-H1 1.836-AUD2              | SOK-1016-1 |\n",
       "| ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ |\n",
       "| Torsdag | 2022-04-21 | 16 | 12:15-14:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-04-21 | 16 | 14:15-16:00 | HHT 01.202AUD     | SOK-1005-1 |\n",
       "| Fredag  | 2022-04-22 | 16 | 09:15-12:00 | TEO-H1 1.836-AUD2 | SOK-1006-1 |\n",
       "| Mandag  | 2022-04-25 | 17 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Tirsdag | 2022-04-26 | 17 | 10:15-12:00 | TEO-H1 1.836-AUD2 | SOK-1016-1 |\n",
       "| Onsdag  | 2022-04-27 | 17 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-04-27 | 17 | 12:15-16:00 | TEO-H1 1.836-AUD2 | SOK-1006-1 |\n",
       "| Onsdag  | 2022-04-27 | 17 | 14:15-16:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-04-28 | 17 | 09:15-14:00 | TEO-H1 1.820-AUD1 | SOK-1006-1 |\n",
       "| Torsdag | 2022-04-28 | 17 | 12:15-14:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-04-28 | 17 | 14:15-16:00 | HHT 01.202AUD     | SOK-1005-1 |\n",
       "| Mandag  | 2022-05-02 | 18 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Tirsdag | 2022-05-03 | 18 | 10:15-12:00 | TEO-H1 1.836-AUD2 | SOK-1016-1 |\n",
       "| Onsdag  | 2022-05-04 | 18 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-05-04 | 18 | 14:15-16:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-05-05 | 18 | 12:15-14:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-05-05 | 18 | 14:15-16:00 | HHT 01.202AUD     | SOK-1005-1 |\n",
       "| Mandag  | 2022-05-09 | 19 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-05-11 | 19 | 08:15-10:00 | TEO-H1 1.836-AUD2 | SOK-1016-1 |\n",
       "| Onsdag  | 2022-05-11 | 19 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-05-11 | 19 | 14:15-16:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-05-12 | 19 | 12:15-14:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Fredag  | 2022-05-13 | 19 | 13:00-13:00 | <!----> | SOK-1005-  |\n",
       "| Mandag  | 2022-05-16 | 20 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-05-18 | 20 | 08:15-10:00 | TEO-H1 1.836-AUD2 | SOK-1016-1 |\n",
       "| Onsdag  | 2022-05-18 | 20 | 10:15-12:00 | HHT 02.217        | SOK-1006-1 |\n",
       "| Onsdag  | 2022-05-18 | 20 | 14:15-16:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Torsdag | 2022-05-19 | 20 | 12:15-14:00 | HHT 02.218        | SOK-1016-1 |\n",
       "| Mandag  | 2022-05-30 | 22 | 13:00-13:00 | <!----> | SOK-1006-  |\n",
       "| Fredag  | 2022-06-10 | 23 | 13:00-13:00 | <!----> | SOK-1016-  |\n",
       "\n"
      ],
      "text/plain": [
       "   Dag     Dato       Uke Tid         Rom                            Emnekode  \n",
       "1  Onsdag  2022-01-12 02  14:15-16:00 VIRTUELT _Digital undervisning SOK-1016-1\n",
       "2  Torsdag 2022-01-13 02  14:15-16:00 VIRTUELT _Digital undervisning SOK-1005-1\n",
       "3  Tirsdag 2022-01-18 03  10:15-12:00 VIRTUELT _Digital undervisning SOK-1016-1\n",
       "4  Tirsdag 2022-01-18 03  12:15-13:00 HHT 01.202AUD                  SOK-1006-1\n",
       "5  Onsdag  2022-01-19 03  12:15-16:00 VIRTUELT _Digital undervisning SOK-1006-1\n",
       "6  Torsdag 2022-01-20 03  09:15-14:00 VIRTUELT _Digital undervisning SOK-1006-1\n",
       "7  Torsdag 2022-01-20 03  14:15-16:00 VIRTUELT _Digital undervisning SOK-1005-1\n",
       "8  Tirsdag 2022-01-25 04  14:15-17:00 HARSTAD_HG5 AUD_GRØNT          SOK-1006-1\n",
       "9  Torsdag 2022-01-27 04  12:15-14:00 VIRTUELT _Digital undervisning SOK-1016-1\n",
       "10 Torsdag 2022-01-27 04  14:15-16:00 VIRTUELT _Digital undervisning SOK-1005-1\n",
       "11 Torsdag 2022-02-03 05  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "12 Torsdag 2022-02-10 06  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "13 Fredag  2022-02-11 06  12:15-14:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "14 Tirsdag 2022-02-15 07  12:15-14:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "15 Onsdag  2022-02-16 07  12:15-16:00 MH U6.SAUD                     SOK-1006-1\n",
       "16 Torsdag 2022-02-17 07  08:15-10:00 TEO-H6 6.303-AUD3              SOK-1006-1\n",
       "17 Torsdag 2022-02-17 07  12:15-14:00 TEO-H6 6.303-AUD3              SOK-1006-1\n",
       "18 Torsdag 2022-02-17 07  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "19 Torsdag 2022-02-24 08  11:15-14:00 TEO-H1 1.820-AUD1              SOK-1006-1\n",
       "20 Torsdag 2022-02-24 08  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "21 Fredag  2022-02-25 08  12:15-14:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "22 Mandag  2022-02-28 09  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "23 Mandag  2022-02-28 09  12:15-14:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "24 Tirsdag 2022-03-01 09  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "25 Onsdag  2022-03-02 09  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "26 Onsdag  2022-03-02 09  14:15-16:00 HHT 02.218                     SOK-1016-1\n",
       "27 Torsdag 2022-03-03 09  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "28 Torsdag 2022-03-10 10  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "29 Mandag  2022-03-14 11  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "30 Tirsdag 2022-03-15 11  10:15-12:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "⋮  ⋮       ⋮          ⋮   ⋮           ⋮                              ⋮         \n",
       "61 Torsdag 2022-04-21 16  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "62 Torsdag 2022-04-21 16  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "63 Fredag  2022-04-22 16  09:15-12:00 TEO-H1 1.836-AUD2              SOK-1006-1\n",
       "64 Mandag  2022-04-25 17  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "65 Tirsdag 2022-04-26 17  10:15-12:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "66 Onsdag  2022-04-27 17  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "67 Onsdag  2022-04-27 17  12:15-16:00 TEO-H1 1.836-AUD2              SOK-1006-1\n",
       "68 Onsdag  2022-04-27 17  14:15-16:00 HHT 02.218                     SOK-1016-1\n",
       "69 Torsdag 2022-04-28 17  09:15-14:00 TEO-H1 1.820-AUD1              SOK-1006-1\n",
       "70 Torsdag 2022-04-28 17  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "71 Torsdag 2022-04-28 17  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "72 Mandag  2022-05-02 18  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "73 Tirsdag 2022-05-03 18  10:15-12:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "74 Onsdag  2022-05-04 18  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "75 Onsdag  2022-05-04 18  14:15-16:00 HHT 02.218                     SOK-1016-1\n",
       "76 Torsdag 2022-05-05 18  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "77 Torsdag 2022-05-05 18  14:15-16:00 HHT 01.202AUD                  SOK-1005-1\n",
       "78 Mandag  2022-05-09 19  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "79 Onsdag  2022-05-11 19  08:15-10:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "80 Onsdag  2022-05-11 19  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "81 Onsdag  2022-05-11 19  14:15-16:00 HHT 02.218                     SOK-1016-1\n",
       "82 Torsdag 2022-05-12 19  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "83 Fredag  2022-05-13 19  13:00-13:00                                SOK-1005- \n",
       "84 Mandag  2022-05-16 20  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "85 Onsdag  2022-05-18 20  08:15-10:00 TEO-H1 1.836-AUD2              SOK-1016-1\n",
       "86 Onsdag  2022-05-18 20  10:15-12:00 HHT 02.217                     SOK-1006-1\n",
       "87 Onsdag  2022-05-18 20  14:15-16:00 HHT 02.218                     SOK-1016-1\n",
       "88 Torsdag 2022-05-19 20  12:15-14:00 HHT 02.218                     SOK-1016-1\n",
       "89 Mandag  2022-05-30 22  13:00-13:00                                SOK-1006- \n",
       "90 Fredag  2022-06-10 23  13:00-13:00                                SOK-1016- "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "Kursplan <- map(Timeplan, scrape)\n",
    "\n",
    "Kursplan <- bind_rows(Kursplan)\n",
    "\n",
    "Kursplan <- Kursplan %>% \n",
    "  arrange(Dato, Tid)\n",
    "Kursplan"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "R",
   "language": "R",
   "name": "ir"
  },
  "language_info": {
   "codemirror_mode": "r",
   "file_extension": ".r",
   "mimetype": "text/x-r-source",
   "name": "R",
   "pygments_lexer": "r",
   "version": "4.1.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
